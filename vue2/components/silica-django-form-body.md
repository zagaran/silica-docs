# SilicaDjangoFormBody

## Overview
This component is specifically designed to work with data generated by a `silica-django` form. It renders
the form fields specified by the schema and uischema passed to it via JSON scripts loaded in the DOM via the Django 
`json_script` template tag.

It does not create a parent `form` element or render a submit button.

## Setup
In your Django template, add `{% load_silica_form form 'form-id' %}` to the page near the bottom of the body tag.
This will load the data for your form into three scripts with the ids `form-id-data`, `form-id-schema`, and 
`form-id-ui-schema`. These are currently hard-coded values. On page load, the `SilicaDjangoFormBody` component will 
search for these scripts and load the data, schema, and UI schema into Vue.

There are also a number of configuration options available to you by setting values in the window object:
- `styles`: the styles provided to the underlying JSONForms component. By default, this will use the default JSONForms 
styles. It can be customized in the following ways 
(in descending order of priority):
  - providing an object directly to the `SilicaDjangoFormBody` as `styles`
  - setting `window.SilicaVueStyles`
- `customRenderers`: the set of custom JSONForms renderers the form should use. It can be customized in the following ways
(in descending order of priority)
  - providing an array of entries directly to the `SilicaDjangoFormBody` as `customRenderers`
  - setting `window.SilicaCustomRenderers`

## Props
- Required
  - `id`: the suffix used to look up the scripts containing the form's target data, schema, and uischema values
- Optional
  - `customRenderers`: list of renderer entries which the form will use in addition to default [Silica Renderers](https://www.github.com/zagaran/silica-docs/components/renderers). Defaults to [].
  - `onChange`: function to call when data changes on the form. Note that this function is intended as a callback rather than an override, as formData will be set regardless of the value of this prop
  - `styles`: formatted object containing styling information. 
- Testing use only
  - `dataProp`: use when `formData` should be set by a known object instead of looking up data in scripts
  - `schemaProp`: use when `schema` should be set by a known object instead of looking up data in scripts
  - `uischemaProp`: use when `uischema` should be set by a known object instead of looking up data in scripts

## Example Usage
This assumes that you have loaded Vue globally in your application.

### Backend
```python
def render_form(request):
    ...
    context['form'] = SilicaEnabledForm()
    return render("template.html", context=context)
```

### Template
```html
<form>
    <!-- your "id" here must match the string you provide to load_silica_form -->
    <silica-django-form-body
        id="form-one"
        ref="form-one"
    >
    </silica-django-form-body>
</form> 

...

<!--- Wherever you are importing JS --->
{% load_silica_form form "form-one" %}
```